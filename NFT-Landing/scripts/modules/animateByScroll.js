export default class AnimateByScroll{constructor(t,...e){if(this.activeAnimationClass="active",AnimateByScroll.repeatingAnimations=t.repeatingAnimations,e.length<=0)console.log("[AnimateByScroll] No elements have been created.");else{t.activeAnimationClass&&(this.activeAnimationClass=t.activeAnimationClass),AnimateByScroll.elements=e,this.checkAndToggleAnimationForElements();for(let t of AnimateByScroll.elements)t.mediaQueries.length>0&&t.setMediaProperties();window.addEventListener("scroll",(()=>{this.checkAndToggleAnimationForElements()}),!1),window.addEventListener("resize",(()=>{for(let t of AnimateByScroll.elements)t.setMediaProperties()}),!1)}}checkAndToggleAnimationForElements(){window.requestAnimationFrame((()=>{for(let t of AnimateByScroll.elements)for(const e of t.htmlElements)this.isPartiallyVisible(t,e)&&!e.classList.contains(this.activeAnimationClass)?setTimeout((()=>{e.classList.add(this.activeAnimationClass)}),parseInt(e.dataset.timeout)):!this.isPartiallyVisible(t,e)&&AnimateByScroll.repeatingAnimations&&e.classList.remove(this.activeAnimationClass)}))}isPartiallyVisible(t,e){var i=e.getBoundingClientRect(),a=i.top,o=i.bottom;let n=i.height*parseFloat(e.dataset.viewStartCoeff);return a+n>=0&&n+window.innerHeight>=o}}AnimateByScroll.repeatingAnimations=!1;export class AnimationGroup{constructor(t,...e){(t.animateStartCoeff<=0||t.animateStartCoeff>1)&&console.log("[AnimationGroup] AnimateStartCoeff <= 0 or > 1"),this.htmlElements=document.querySelectorAll(t.selectors);for(let i of this.htmlElements)i.setAttribute("data-timeout",t.timeoutBeforeStart.toString()),i.setAttribute("data-view-start-coeff",t.animateStartCoeff.toString());this.defTimeoutBeforeStart=t.timeoutBeforeStart,this.defAnimStartCoeff=t.animateStartCoeff,this.mediaQueries=e}setMediaProperties(){for(let t of this.mediaQueries)if(window.innerWidth<=t.activeWitdh)for(let e of this.htmlElements)e.setAttribute("data-timeout",t.timeoutBeforeStart.toString()),e.setAttribute("data-view-start-coeff",t.animateStartCoeff.toString());else for(let e of this.htmlElements)e.setAttribute("data-timeout",this.defTimeoutBeforeStart.toString()),e.setAttribute("data-view-start-coeff",this.defAnimStartCoeff.toString())}}export class AnimationMediaQuery{constructor(t,e,i){(e<=0||e>1)&&console.log("[AnimationMediaQuery] AnimateStartCoeff <= 0 or > 1"),this.activeWitdh=t,this.animateStartCoeff=e,this.timeoutBeforeStart=i}}